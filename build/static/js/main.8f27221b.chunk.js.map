{"version":3,"sources":["svg/bubble2.svg","drawData.js","sketch.js","flexgraph.js","graph.js","jellyJar.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","GetDrawData","drawData","points","numPoints","pos","neg","spacing","wavePoints","negWavePoints","rectangles","bars","glass","betweenGlass","modFlows","values","drawBoxHeight","drawBoxWidth","allBarValues","drawBarHeights","viewHeightMultiplier","barWidth","barPadX","glassPad","doubleGlassPad","barPosx","barCanvas","value","calcData","modCashFlows","push","sort","a","b","highestFlow","length","barPadx","Math","min","barPosX","commaDecimal","number","Intl","NumberFormat","style","maximumFractionDigits","minimumFractionDigits","format","getRectangleSVG","key","topLeftPoint","width","height","fill","strokeColor","strokeWidth","radius","x","y","stroke","rx","Sketch","textWidth","numBars","longestLength","toString","drawText","multiplier","divider","tWidth","styles","positiveColor","gray","fontSize","negativeColor","position","background","top","left","viewBox","noCashFlowsStyle","textAlign","marginLeft","fontStyle","globalStyles","clickedPoint","display","commaFormat","diff","abs","mouseDown","mouseOut","mouseOver","mouseUp","onMouseDown","onMouseUp","onMouseOut","onMouseOver","opacity","userSelect","cursor","boxShadow","GetCircleSvg","centerX","centerY","xRadius","yRadius","onClick","mouseExit","heightMultiplier","parseFloat","canvasWidth","canvasHeight","cx","cy","ry","getPathSVG","color","smoothing","dashSize","controlPoint","current","previous","next","reverse","o","pointA","pointB","lengthX","lengthY","sqrt","pow","angle","atan2","line","PI","cos","sin","command","d","reduce","acc","point","i","strokeDasharray","svgPath","cpsX","cpsY","cpeX","cpeY","sortXYArray","data","xLimit","yLimit","drawFree","range","combinedData","sortedData","xMin","xMax","yMin","yMax","padLeft","padTop","xMultiplier","yMultiplier","dataSetCount","set","type","lastEntry","xAscending","slice","yAscending","drawArray","xDiff","yDiff","pair","getTextSVG","xy","fontWeight","getXAxisSVG","textArray","tickArray","middleX","xLine","axisColor","axisLineSize","rulerOffset","xTicks","rulerStep","rulerPosition","round","fontColor","tickColor","tickLineSize","xName","labelColor","getYAxisSVG","yTicks","num","yValue","roundTenth","roundInt","yLine","label","yName","transform","drawCanvas","ViewBox","canvasPadTop","canvasPadLeft","canvasColor","LineMarkGraph","lineSize","clickPointColor","pointSize","selectedPointSize","markerLineColor","markerLineSize","plots","XAxis","YAxis","Paths","markerLine","displaySVG","Path","circleArray","React","useState","draw","selectedPoint","setSelectedPoint","hovered","handlePointClick","xVal","yVal","xDraw","yDraw","alreadySelected","Number","currentPair","GraphPoints","displayPop","pointy","text","xHeaderFontSize","displayFontSize","yHeaderFontSize","xValueFontSize","yValueFontSize","xHeaderXPosition","yHeaderXPosition","xValueXPosition","yValueXPosition","flip","xSymbol","ySymbol","popXDisplay","popYDisplay","irrHeaderXPosition","displayFontWeight","GetDisplayPop","drawmarkerLine","path","getmarkerLine","drawDisplay","displayInit","displayColor","getValueDisplay","FlexButton","mouseHover","buttonStyle","main","btnColor","btnStrokeColor","btnStrokeWidth","btnRadius","cover","shadow","placement","btnTextRange","buttonClickedStyle","btn","setBtn","button","buttonCover","setTimeout","btnDisplay","btnFontSize","btnFontColor","btnFontWeight","DrawShapesGraph","boxAxisColor","boxRadius","box","getBoxAxis","Graph","graphStyles","darkGray","lightCanvasColor","npvSnap","drawPoints","drawLines","graph","allNpvPoints","blueCounter","redCounter","dollarFormat","currency","removeCommas","replace","rndNearTenth","toFixed","initialInvest","cashFlows","positiveFlows","negativeFlows","highestModFlow","averagePositiveFlow","averageNegativeFlow","posFlowsTotal","negFlowsTotal","theNPV","snapGraphX","r","testVar","irr","discountFactor","avgNpvYr","textColor","innerCashBoxColor","medLightGray","irrColor","npvBtnColor","calcPadLeft","calcPadTop","bottomRowPadTop","firstRowHeight","secondRowHeight","lightBlue","calcCanvas","calcTitle","parseInt","cashFlowBox","borderRadius","innerCashBox","overflowY","overflowX","cashContents","cashBottom","lineBreak","dRateBox","sliderStyle","DRateText","DFactorText","sketchBox","NpvStatBox","avgNPVHeader","marginTop","marginBottom","graphBox","header1","App","npvRan","setNpvRan","handleCashFlowChange","flow","yearZero","npvOut","rDec","npv","cashFlow","powerOf","findNPV","helpBlurb","setHelpBlurb","helpButton","col","activeCol","active","setActive","activeOut","right","HelpButton","props","className","src","bubble","margin","padding","help","header","bottom","href","link","target","canvasStyles","secondArrow","secondArrowTop","secondArrowLeft","firstArrowTop","firstArrowLeft","drawArrows","contents","numSize","numX","numY","dollSymbol","border","name","onChange","event","splice","x1","y1","x2","y2","minusButton","CashFlowContents","borderWidth","max","step","npvResult","npvLength","flowValue","inverseFlowValue","negativeLiquidHeight","positiveLiquidHeight","jellyStyles","positiveLiquidDraw","negativeLiquidDraw","getRedSine","getSine","JellyJar","posStyle","plusStyle","negStyle","jellyDisplay","unshift","discountedFlow","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.8f27221b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bubble2.5949d885.svg\";","\r\n\r\nimport {calcData} from \"./App.js\";\r\n\r\n\r\n\r\nfunction GetDrawData () {\r\n    //console.log(\"Ran GetDrawData\");\r\n   \r\n    \r\n    //values Before \r\n    const drawData = {\r\n        points: { \r\n            numPoints: {pos: null, neg: null},\r\n            spacing: {pos: null, neg: null},    \r\n            wavePoints: [],\r\n            negWavePoints: []  \r\n        },\r\n        rectangles: {\r\n            bars: [],\r\n            glass: [],\r\n            betweenGlass: null,\r\n            modFlows: []\r\n        },\r\n        values: {\r\n            drawBoxHeight: 100,\r\n            drawBoxWidth: 200,\r\n            allBarValues: [],\r\n            drawBarHeights: [],\r\n            viewHeightMultiplier: null,\r\n            barWidth: null,\r\n            barPadX: null,\r\n            glassPad: null,\r\n            doubleGlassPad: null,\r\n            barPosx: null,\r\n            barCanvas: null\r\n        }\r\n    }\r\n    \r\n    for (let value in calcData.modCashFlows) {\r\n        if (calcData.modCashFlows[value] >= 0) {\r\n            drawData.values.allBarValues.push(calcData.modCashFlows[value]);\r\n            \r\n        }\r\n        else if (calcData.modCashFlows[value] < 0) {\r\n            drawData.values.allBarValues.push(calcData.modCashFlows[value] * -1);\r\n        }\r\n    }\r\n    drawData.values.allBarValues.sort((a,b) => b-a);\r\n    drawData.values.viewHeightMultiplier = 110/calcData.highestFlow;\r\n    \r\n    \r\n    for (let value in calcData.modCashFlows) {\r\n        if (calcData.modCashFlows[value] >= 0) {\r\n            drawData.values.drawBarHeights.push(calcData.modCashFlows[value] * drawData.values.viewHeightMultiplier);\r\n            drawData.points.numPoints.pos +=1;\r\n        }\r\n        if (calcData.modCashFlows[value] < 0) {\r\n            drawData.values.drawBarHeights.push(calcData.modCashFlows[value] * drawData.values.viewHeightMultiplier);\r\n            drawData.points.numPoints.neg +=1;\r\n        } \r\n    }\r\n\r\n    drawData.values.barWidth = (drawData.values.drawBoxWidth / (drawData.values.drawBarHeights.length) / 1.5);\r\n    drawData.values.barPadx = drawData.values.barWidth / 2;\r\n    drawData.values.glassPad = Math.min(drawData.values.barPadx / 4, 2);\r\n    drawData.values.doubleGlassPad = drawData.values.glassPad * 2;\r\n    drawData.rectangles.betweenGlass = drawData.values.barPadx - drawData.values.doubleGlassPad;\r\n    drawData.values.barPosX = (drawData.values.barPadx / 2);\r\n    drawData.values.barCanvas = drawData.values.drawBoxHeight - 4;\r\n\r\n    //push svg data for bars\r\n\r\n\r\n    \r\n\r\n        \r\n    return(drawData);\r\n    \r\n}\r\nexport default GetDrawData;\r\n","import React from 'react';\r\n// import DrawSmooth  from \"./bezierInterp.js\";\r\nimport GetDrawData from \"./drawData.js\"\r\n// import { spring } from 'popmotion';\r\nimport { styles } from './App.js'\r\nimport {calcData} from \"./App.js\";\r\n \r\n\r\n\r\n// const pathSettle = 50;\r\n\r\nlet updateData = true;\r\nlet animDrawData = [];\r\nlet drawData = [];\r\n\r\nconst commaDecimal = (number) => Intl.NumberFormat('en-US', {\r\n  style: \"decimal\",\r\n  maximumFractionDigits: 2,\r\n  minimumFractionDigits: 2\r\n}).format(number);\r\n\r\n\r\nfunction getRectangleSVG(key, topLeftPoint, width, height, fill, strokeColor, strokeWidth, radius) {\r\n  return(  \r\n      <rect \r\n      key={key}\r\n      x={topLeftPoint[0]} y ={topLeftPoint[1]} //array [x,y]\r\n      width = {width} height = {height}\r\n      fill={fill} //string\r\n      stroke={strokeColor} //string\r\n      strokeWidth={strokeWidth} \r\n      rx={radius}\r\n    />\r\n  \r\n  )\r\n}\r\n\r\nfunction Sketch(){\r\n  //console.log(\"Ran Sketch\");  \r\n  //wave path\r\n  // const [path, setpath] = React.useState();\r\n \r\n  if (updateData){\r\n    drawData = GetDrawData();\r\n    let numBars = drawData.values.drawBarHeights.length;\r\n    let  textWidth = \"67%\";\r\n    let longestLength = commaDecimal(calcData.highestFlow).toString().length;\r\n    \r\n      let drawText = true;\r\n      let multiplier = longestLength/3;\r\n      let divider = 400;\r\n      if (numBars <= 3) {\r\n        divider = numBars * 100;\r\n      }\r\n      if (longestLength < 4) {\r\n        multiplier= 1;\r\n      }\r\n      let tWidth = divider/(numBars * multiplier);\r\n      textWidth = tWidth + \"%\";\r\n      if (tWidth < 17) { \r\n        drawText = false;\r\n      }\r\n\r\n    \r\n    \r\n    \r\n    //push wave points and rectange svg to local drawData\r\n    for (var value in drawData.values.drawBarHeights) {\r\n      let key = value;\r\n      if (drawData.values.drawBarHeights[value] >= 0) {  \r\n          drawData.rectangles.bars.push(getRectangleSVG(key, [drawData.values.barPosX, drawData.values.barCanvas - drawData.values.drawBarHeights[value]], drawData.values.barWidth, drawData.values.drawBarHeights[value], styles.positiveColor));\r\n          drawData.rectangles.glass.push(getRectangleSVG(\"glass\" + key, [drawData.values.barPosX - drawData.values.glassPad, -16], drawData.values.barWidth + drawData.values.doubleGlassPad, 114, \"none\", styles.gray, .3, 1));\r\n          //drawData.points.wavePoints.push([drawData.values.barPosX, drawData.values.barCanvas - drawData.values.drawBarHeights[value]]);\r\n          drawData.points.wavePoints.push([drawData.values.barPosX + drawData.values.barWidth, drawData.values.barCanvas - drawData.values.drawBarHeights[value]]);         \r\n          //drawData.points.negWavePoints.push([drawData.values.barPosX, drawData.values.drawBoxHeight]);\r\n          drawData.points.negWavePoints.push([drawData.values.barPosX + drawData.values.barWidth, drawData.values.drawBoxHeight]);\r\n          if (drawText === true) {\r\n            drawData.rectangles.modFlows.push(<text key={key + \"modText\"} style={{fontSize: textWidth}} fill={styles.positiveColor} x={drawData.values.barPosX -1} y=\"112\">{commaDecimal(calcData.modCashFlows[value])}</text>)\r\n          }\r\n          drawData.values.barPosX += (drawData.values.barWidth + drawData.values.barPadx);\r\n         \r\n      }\r\n      else if (drawData.values.drawBarHeights[value] < 0) {\r\n          drawData.rectangles.bars.push(getRectangleSVG(key, [drawData.values.barPosX, drawData.values.barCanvas - (drawData.values.drawBarHeights[value] * -1)], drawData.values.barWidth, (drawData.values.drawBarHeights[value] * -1), styles.negativeColor));\r\n          drawData.rectangles.glass.push(getRectangleSVG(\"glass\" + key, [drawData.values.barPosX - drawData.values.glassPad, -16], drawData.values.barWidth + drawData.values.doubleGlassPad, 114, \"none\", styles.gray, .3, 1));\r\n\r\n          //drawData.points.negWavePoints.push([drawData.values.barPosX, drawData.values.barCanvas - drawData.values.drawBarHeights[value] * -1]);\r\n          drawData.points.negWavePoints.push([drawData.values.barPosX + drawData.values.barWidth, drawData.values.barCanvas - drawData.values.drawBarHeights[value] * -1]);\r\n          //  drawData.points.wavePoints.push([drawData.values.barPosX, drawData.values.drawBoxHeight]);\r\n          drawData.points.wavePoints.push([drawData.values.barPosX + drawData.values.barWidth, drawData.values.drawBoxHeight]);\r\n          if (drawText === true) {\r\n          drawData.rectangles.modFlows.push(<text key={key + \"modText\"} style={{fontSize: textWidth}} fill={styles.negativeColor} x={drawData.values.barPosX -1} y=\"112\">{commaDecimal(calcData.modCashFlows[value])}</text>)\r\n          }\r\n          drawData.values.barPosX += (drawData.values.barWidth + drawData.values.barPadx);\r\n          \r\n          \r\n      }\r\n \r\n      //drawData.rectangles.modFlows.push(<p style={{position: \"absolute\", left: modPosX + \"%\", fontSize: \"1vw\", background: \"blue\" }}>3</p>);\r\n\r\n    }\r\n\r\n  }\r\n  else {\r\n    drawData = animDrawData;\r\n  }\r\n\r\n  // async function runSpring() {    \r\n  //   for (let point in drawData.points.wavePoints) {\r\n  //     spring({ from: drawData.points.wavePoints[point][1], to: pathSettle, stiffness: 150, damping: 5 })\r\n  //         .start(v => {drawData.points.wavePoints[point][1] = v; setpath(DrawSmooth(drawData.points.wavePoints, 1))})\r\n  //   }\r\n  // }\r\n\r\n  if(drawData.rectangles.bars.length > 0){\r\n    return(\r\n      <div>\r\n        <svg\r\n          style={{\r\n          position: \"absolute\",\r\n          background: 'none',\r\n          top: \"10%\",\r\n          left: \"5%\",\r\n          width: \"90%\", \r\n          height: \"90%\"\r\n          }}\r\n          viewBox=\"0 0 200 100\"\r\n        >{drawData.rectangles.bars}{drawData.rectangles.modFlows}{drawData.rectangles.glass}\r\n        </svg>\r\n        <div>\r\n        {/* <button name=\"animate\" onClick ={ () => {updateData= false; animDrawData = drawData; runSpring()}}>Animate Waves</button>   */}\r\n        \r\n        </div>\r\n      </div>\r\n\r\n    );\r\n  }\r\n  else {\r\n    const noCashFlowsStyle = {\r\n      textAlign: \"left\",\r\n      marginLeft: \"1vw\",\r\n      fontSize: \"1vw\",\r\n      fontStyle: \"montserrat\",\r\n    }\r\n    return (\r\n    <div>\r\n      <p style={noCashFlowsStyle}>To get started,</p>\r\n      <p style={noCashFlowsStyle}>input some cashflows in the box on the left</p>\r\n    </div>\r\n      \r\n      )\r\n  }\r\n}\r\n\r\n//const lineCommand = point => `L ${point[0]} ${point[1]}`\r\n\r\n\r\nexport default Sketch;","import React from 'react';\r\n\r\n\r\nlet globalStyles = {\r\n    clickedPoint: null,\r\n}\r\nlet display = \"\";\r\nconst commaFormat = (number) => Intl.NumberFormat().format(number);\r\n\r\nfunction rndNearTenth(num) {\r\n    return Math.round(num * 100) / 100;\r\n}\r\n\r\n\r\nfunction diff(a, b) { return Math.abs(a - b); }\r\n\r\nexport function getValueDisplay(sortedData, styles) {\r\n    if (display === \"\") {\r\n        display = styles.displayInit;\r\n    }\r\n\r\n    let label = getTextSVG(\"displaytext\", display, [33, sortedData.padTop * .4 + \"%\"], styles.displayFontSize, styles.displayColor, styles.displayFontWeight);\r\n    return <svg key=\"valuedisplay\">{label}</svg>\r\n\r\n}\r\n\r\nexport function getRectangleSVG(key, styles, mouseDown, mouseOut, mouseOver, mouseUp) {\r\n    return (\r\n        <rect\r\n            key={key}\r\n            x={styles.topLeftPoint[0] + \"%\"} y={styles.topLeftPoint[1] + \"%\"} //array [x,y]\r\n            width={styles.width + \"%\"} height={styles.height + \"%\"}\r\n            fill={styles.fill} //string\r\n            stroke={styles.strokeColor} //string\r\n            strokeWidth={styles.strokeWidth}\r\n            rx={styles.radius}\r\n            onMouseDown={mouseDown}\r\n            onMouseUp={mouseUp}\r\n            onMouseOut={mouseOut}\r\n            onMouseOver={mouseOver}\r\n            opacity={styles.opacity}\r\n            style={{userSelect: \"none\", cursor: styles.cursor, boxShadow: \"1px 3px 1px #9E9E9E\" }}\r\n        />\r\n    )\r\n}\r\n\r\n\r\nexport function GetCircleSvg(key, styles, fill, strokeColor, strokeWidth, centerX, centerY, xRadius, yRadius, onClick, mouseOver, mouseExit) {\r\n    styles.heightMultiplier = parseFloat(styles.canvasWidth) / parseFloat(styles.canvasHeight);\r\n\r\n    if (!yRadius) {\r\n        yRadius = xRadius * styles.heightMultiplier;\r\n    }\r\n    else {\r\n        yRadius = yRadius * styles.heightMultiplier;\r\n    }\r\n\r\n    return (\r\n        <ellipse\r\n            key={key}\r\n            cx={centerX + \"%\"} cy={centerY + \"%\"}\r\n            rx={xRadius + \"%\"} ry={yRadius + \"%\"}\r\n            fill={fill}\r\n            stroke={strokeColor} //string\r\n            strokeWidth={strokeWidth}\r\n            onMouseDown={onClick}\r\n            onMouseOut={mouseExit}\r\n            onMouseOver={mouseOver}\r\n\r\n        />\r\n    )\r\n}\r\n\r\nexport function getPathSVG(key, styles, points, color, strokeWidth, smoothing, dashSize, fill) {\r\n    styles.heightMultiplier = parseFloat(styles.canvasWidth) / parseFloat(styles.canvasHeight);\r\n\r\n    if (!color) {\r\n        color = \"black\";\r\n    }\r\n\r\n    if (!strokeWidth) {\r\n        strokeWidth = .5;\r\n    }\r\n    if (!dashSize) {\r\n        dashSize = 0;\r\n    }\r\n    if (!fill) {\r\n        fill = \"none\"\r\n    }\r\n\r\n    let controlPoint = null;\r\n    //const points = points;\r\n    const svgPath = (points, command) => {\r\n        // build the d attributes by looping over the points\r\n        const d = points.reduce((acc, point, i, a) => i === 0\r\n            // if first point\r\n            ? `M ${point[0]},${point[1] / styles.heightMultiplier}`\r\n            // else\r\n            : `${acc} ${command(point, i, a)}`\r\n            , '')\r\n        //removed position absolute i hope that doesnt break anything\r\n        return <path key={key} style={{ width: 7, strokeDasharray: dashSize }} d={d} fill={fill} stroke={color} strokeWidth={strokeWidth} />\r\n    }\r\n\r\n\r\n\r\n    if (smoothing) {\r\n\r\n        const line = (pointA, pointB) => {\r\n            const lengthX = pointB[0] - pointA[0]\r\n            const lengthY = pointB[1] - pointA[1]\r\n            return {\r\n                length: Math.sqrt(Math.pow(lengthX, 2) + Math.pow(lengthY, 2)),\r\n                angle: Math.atan2(lengthY, lengthX)\r\n            }\r\n        }\r\n        controlPoint = (current, previous, next, reverse) => {\r\n            // When 'current' is the first or last point of the array\r\n            // 'previous' or 'next' don't exist.\r\n            // Replace with 'current'\r\n            const p = previous || current\r\n            const n = next || current\r\n            // The smoothing ratio\r\n\r\n            // Properties of the opposed-line\r\n            const o = line(p, n)\r\n            // If is end-control-point, add PI to the angle to go backward\r\n            const angle = o.angle + (reverse ? Math.PI : 0)\r\n            const length = o.length * smoothing\r\n            // The control point position is relative to the current point\r\n            const x = current[0] + Math.cos(angle) * length\r\n            const y = current[1] + Math.sin(angle) * length\r\n            return [x, y]\r\n        }\r\n    }\r\n    const lineCommand = (point, i, a) => {\r\n        if (smoothing) {\r\n            // start control point\r\n            const [cpsX, cpsY] = controlPoint(a[i - 1], a[i - 2], point);\r\n\r\n            // end control point\r\n            const [cpeX, cpeY] = controlPoint(point, a[i - 1], a[i + 1], true)\r\n            return `C ${cpsX},${cpsY} ${cpeX},${cpeY} ${point[0]},${point[1] / styles.heightMultiplier}`\r\n        }\r\n        else {\r\n            return `L ${point[0]} ${point[1] / styles.heightMultiplier}`\r\n        }\r\n    }\r\n\r\n\r\n    return (svgPath(points, lineCommand));\r\n}\r\n\r\nexport function sortXYArray(data, styles, xLimit, yLimit, drawFree, range) {\r\n\r\n    // globalStyles = {\r\n    //     clickedPoint: null,\r\n    // }\r\n\r\n    if (!drawFree) {\r\n        drawFree = false;\r\n    }\r\n    if (!xLimit) {\r\n        xLimit = 80;\r\n\r\n    }\r\n    if (!yLimit) {\r\n        yLimit = 80;\r\n\r\n    }\r\n\r\n    let combinedData = {\r\n        sortedData: [],\r\n        xLimit: xLimit,\r\n        yLimit: yLimit,\r\n        xMin: 0,\r\n        xMax: 100,\r\n        yMin: null,\r\n        yMax: null,\r\n        padLeft: 0,\r\n        padTop: 0,\r\n        xMultiplier: 1,\r\n        yMultiplier: 1,\r\n        drawFree: drawFree\r\n\r\n    };\r\n\r\n    let dataSetCount = 0\r\n\r\n    \r\n    for (let set in data) {\r\n        if (!styles.type) {\r\n            styles.type = [];\r\n        }\r\n        //if there is actually data\r\n        let sortedData = {};\r\n        let lastEntry = null;\r\n        if (data[set].length) {\r\n            lastEntry = data[set].length - 1;\r\n            sortedData = {\r\n                xAscending: data[set].slice(),\r\n                yAscending: data[set].slice(),\r\n                xMin: 0,\r\n                xMax: 100,\r\n                yMin: null,\r\n                yMax: null,\r\n                xLimit: xLimit,\r\n                yLimit: yLimit,\r\n                padLeft: 0,\r\n                padTop: 0,\r\n                xMultiplier: 0,\r\n                yMultiplier: 0,\r\n                drawArray: [],\r\n                color: set,\r\n                type: styles.type[dataSetCount]\r\n\r\n            }\r\n            dataSetCount += 1;\r\n\r\n            // \r\n\r\n            sortedData.xAscending.sort(function (a, b) {\r\n                return a[0] - b[0];\r\n            })\r\n\r\n            sortedData.yAscending.sort(function (a, b) {\r\n                return a[1] - b[1];\r\n            });\r\n\r\n            //if range hasnt been specified, dynamically create it\r\n            if (!range) {\r\n                sortedData.xMin = parseFloat(sortedData.xAscending[0][0]);\r\n                sortedData.xMax = parseFloat(sortedData.xAscending[lastEntry][0]);\r\n                sortedData.yMin = parseFloat(sortedData.yAscending[0][1]);\r\n                sortedData.yMax = parseFloat(sortedData.yAscending[lastEntry][1]);\r\n\r\n                //if the ranges of the dataset's mins/ maxs exceed the combined data min max, update the combined\r\n                if (sortedData.xMin < combinedData.xMin || combinedData.xMin === null) {\r\n                    combinedData.xMin = sortedData.xMin;\r\n                }\r\n                if (sortedData.xMax > combinedData.xMax || combinedData.xMax === null) {\r\n                    combinedData.xMax = sortedData.xMax;\r\n                }\r\n                if (sortedData.yMin < combinedData.yMin || combinedData.yMin === null) {\r\n                    \r\n                    combinedData.yMin = sortedData.yMin;\r\n                }\r\n                if (sortedData.yMax > combinedData.yMax || combinedData.yMax === null) {\r\n\r\n                    combinedData.yMax = sortedData.yMax;\r\n                }\r\n\r\n            }\r\n            else {\r\n                //set the range to specified if it has been specified\r\n               \r\n                sortedData.xMin = parseFloat(range[0][0]);\r\n                sortedData.xMax = parseFloat(range[1][0]);\r\n                sortedData.yMin = parseFloat(range[0][1]);\r\n                sortedData.yMax = parseFloat(range[1][1]);\r\n                combinedData.xMin = sortedData.xMin;\r\n                combinedData.xMax = sortedData.xMax;\r\n                combinedData.yMin = sortedData.yMin;\r\n                combinedData.yMax = sortedData.yMax;\r\n            }\r\n            //set the default draw percents to 100% of the canvas\r\n\r\n            sortedData.padLeft = (100 - xLimit) / 2;\r\n            sortedData.padTop = (100 - yLimit) / 2;\r\n\r\n            sortedData.xDiff = sortedData.xMax - sortedData.xMin;\r\n            sortedData.yDiff = sortedData.yMax - sortedData.yMin;\r\n\r\n\r\n\r\n            if (sortedData.xDiff !== 0) {\r\n                sortedData.xMultiplier = combinedData.xLimit / combinedData.xDiff;\r\n            }\r\n            else {\r\n                sortedData.xMultiplier = 1;\r\n            }\r\n\r\n            if (sortedData.yDiff !== 0) {\r\n                sortedData.yMultiplier = combinedData.yLimit / combinedData.yDiff;\r\n\r\n            }\r\n            else {\r\n                sortedData.yMultiplier = 1;\r\n            }\r\n            combinedData.sortedData.push(sortedData);\r\n        }\r\n    };\r\n    //endof for loop\r\n\r\n    combinedData.padLeft = (100 - xLimit) / 2;\r\n    combinedData.padTop = (100 - yLimit) / 2;\r\n    combinedData.xDiff = combinedData.xMax - combinedData.xMin;\r\n    combinedData.yDiff = combinedData.yMax - combinedData.yMin;\r\n\r\n    //if there is no range differnece, make one\r\n\r\n    if (combinedData.xDiff < 4) {\r\n        combinedData.xMax += 2;\r\n        combinedData.xMin += -2;\r\n        combinedData.xDiff += 4;\r\n    }\r\n\r\n    if (combinedData.yDiff < 4) {\r\n        combinedData.yMin += -2\r\n        combinedData.yMax += 2;\r\n        combinedData.yDiff += 4;\r\n    }\r\n\r\n\r\n    \r\n    combinedData.xMultiplier = combinedData.xLimit / combinedData.xDiff;\r\n\r\n\r\n    combinedData.yMultiplier = combinedData.yLimit / combinedData.yDiff;\r\n\r\n\r\n\r\n    if (combinedData.drawFree === false) {\r\n\r\n        for (let set in combinedData.sortedData) {\r\n            let sortedData = combinedData.sortedData[set];\r\n            //push the modified data in xascending order\r\n            for (let pair in sortedData.xAscending) {\r\n                combinedData.sortedData[set].drawArray.push([((sortedData.xAscending[pair][0] - combinedData.xMin) * combinedData.xMultiplier) + combinedData.padLeft, combinedData.yLimit - ((sortedData.xAscending[pair][1] - combinedData.yMin) * combinedData.yMultiplier) + combinedData.padTop]);\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        let set = 0\r\n        //data is an object that has keys with the color attribute, use a count instead for set attribute\r\n        for (let i in data) {\r\n            //push the modified data in original order for drawing shapes and stuff\r\n            if (data[i].length) {      \r\n                for (let pair in data[i]) {\r\n                    combinedData.sortedData[set].drawArray.push([((data[i][pair][0] - combinedData.xMin) * combinedData.xMultiplier) + combinedData.padLeft, combinedData.yLimit - ((data[i][pair][1] - combinedData.yMin) * combinedData.yMultiplier) + combinedData.padTop]);\r\n                }\r\n                set += 1;\r\n            }\r\n        }\r\n    }\r\n   \r\n    return (combinedData);\r\n\r\n}\r\nexport function getTextSVG(key, display, xy, fontSize, color, fontWeight, userSelect) {\r\n    if (!xy) {\r\n        xy = [1, 10];\r\n    }\r\n    if (!fontSize) {\r\n        fontSize = 2;\r\n    }\r\n    if (!color) {\r\n        color = \"black\";\r\n    }\r\n\r\n    return (<text key={key} style={{ userSelect: userSelect, fontSize: fontSize, fontWeight: fontWeight }} fill={color} x={xy[0]} y={xy[1]}>{display}</text>);\r\n}\r\n\r\nexport function getXAxisSVG(sortedData, styles) {\r\n    let textArray = [];\r\n    let tickArray = [];\r\n\r\n    let middleX = ((100 - sortedData.padLeft) + sortedData.padLeft / 2) / 2;\r\n    let xLine = getPathSVG(\"xLine\", styles, [[sortedData.padLeft, 100 - sortedData.padTop], [100 - sortedData.padLeft, 100 - sortedData.padTop]], styles.axisColor, styles.axisLineSize);\r\n\r\n    let rulerOffset = sortedData.xLimit / styles.xTicks;\r\n    let rulerStep = diff(sortedData.xMin, sortedData.xMax) / styles.xTicks;\r\n    let rulerPosition = sortedData.padLeft;\r\n    for (let i = 0; i <= styles.xTicks; i++) {\r\n        //push ruler values to text array spaced out evenly\r\n        textArray.push(getTextSVG(\"xrulerValue\" + i, Math.round(sortedData.xMin + (rulerStep * i)), [rulerPosition + (rulerOffset * i) + \"%\", 100 - (sortedData.padTop / 2) + \"%\"], styles.fontSize, styles.fontColor));\r\n        if (i >= 1) {\r\n            tickArray.push(getPathSVG(\"xTick\" + i, styles, [[rulerPosition + (rulerOffset * i), 100 - sortedData.padTop], [rulerPosition + (rulerOffset * i), sortedData.padTop]], styles.tickColor, styles.tickLineSize, 0, 1));\r\n\r\n        }\r\n    }\r\n\r\n    textArray.push(getTextSVG(\"xNameText\", styles.xName, [100 - middleX / 1.8, 100 - (sortedData.padTop * 1.2) + \"%\"], styles.fontSize, styles.labelColor));\r\n\r\n    return (\r\n        <svg key=\"xaxissvg\" >\r\n            {textArray}\r\n            {tickArray}\r\n            {xLine}\r\n        </svg>\r\n    )\r\n}\r\n//<g transform='rotate(90), translate(10.000000, -55.000000)' ></g>\r\nexport function getYAxisSVG(sortedData, styles) {\r\n    let textArray = [];\r\n    let tickArray = [];\r\n\r\n    let middleX = ((100 - sortedData.padLeft) + sortedData.padLeft / 2) / 2;\r\n\r\n    let rulerOffset = sortedData.yLimit / styles.yTicks; //the offset for thephysical position on the canvas\r\n    let rulerStep = diff(sortedData.yMin, sortedData.yMax) / styles.yTicks; //the value offset \r\n    let rulerPosition = 100 - sortedData.padTop;\r\n    for (let i = 0; i <= styles.yTicks; i++) {\r\n        let yValue = sortedData.yMin + (rulerStep * i);\r\n        let roundTenth = commaFormat(rndNearTenth(yValue));\r\n        let roundInt = commaFormat(Math.round(yValue));\r\n        let intLeft  = () => {if (roundInt.length <= 10) { return roundInt.length/2} else {return 5}};\r\n        let tenthLeft = () => {if (roundTenth.length <= 10) { return roundTenth.length/2} else {return 5}};\r\n        //push ruler values to text array spaced out evenly, if there is a small differrence, round to the nearest 10th\r\n        if (sortedData.yDiff > 50) {\r\n            textArray.push(getTextSVG(\"yrulervalue\" + i, roundInt, [(sortedData.padLeft /2) -intLeft() + \"%\", rulerPosition - (rulerOffset * i) + \"%\"], styles.fontSize, styles.fontColor));\r\n        }\r\n        else {\r\n            textArray.push(getTextSVG(\"yrulervalue\" + i, roundTenth, [(sortedData.padLeft/2) -tenthLeft() + \"%\", rulerPosition - (rulerOffset * i) + \"%\"], styles.fontSize, styles.fontColor));\r\n\r\n        }\r\n\r\n        if (i >= 1) {\r\n            tickArray.push(getPathSVG(\"ytickline\" + i, styles, [[sortedData.padLeft, rulerPosition - (rulerOffset * i)], [100 - sortedData.padLeft, rulerPosition - (rulerOffset * i)]], styles.tickColor, styles.tickLineSize, 0, 1));\r\n        }\r\n    }\r\n    let yLine = getPathSVG(\"yLine\", styles, [[sortedData.padLeft, 100 - sortedData.padTop], [sortedData.padLeft, sortedData.padTop]], styles.axisColor, styles.axisLineSize);\r\n\r\n\r\n    let label = getTextSVG(\"ylabeltext\", styles.yName, [(-middleX / 1.8) / styles.heightMultiplier, sortedData.padLeft * 1.25], styles.fontSize, styles.labelColor);\r\n\r\n    return (\r\n        <svg key=\"yaxissvg\">\r\n            {yLine}\r\n            <g transform='rotate(-90)' >{label}</g>\r\n            {textArray}\r\n            {tickArray}\r\n            \r\n        </svg>\r\n    )\r\n}\r\nexport function getmarkerLine(sortedData, styles) {\r\n\r\n\r\n    if (sortedData.yMin < 0 && sortedData.yMax > 0) {\r\n\r\n        let y = sortedData.yLimit - ((0 - sortedData.yMin) * sortedData.yMultiplier) + sortedData.padTop;\r\n\r\n        let range = [[], []];\r\n        range = [[sortedData.padLeft, y], [100 - sortedData.padLeft, y]];\r\n        let path = getPathSVG(\"markerLine\", styles, range, styles.markerLineColor, styles.markerLineSize, false, 1);\r\n        let text = getTextSVG(\"0LineMark\", \"0\", [100 - sortedData.padLeft / 1.2, y + \"%\"], styles.fontSize, styles.markerLineColor)\r\n        return (\r\n            <svg key=\"markerLine\">\r\n                {text}\r\n                {path}\r\n            </svg>\r\n        );\r\n    }\r\n\r\n}\r\n\r\n\r\n//plot scatter plot points with sorted data and styles\r\n\r\n\r\nexport function GraphPoints(key, sortedData, styles) {\r\n    let circleArray = [];\r\n   \r\n    \r\n    let initValue = [];\r\n\r\n    \r\n\r\n        //initValue = [styles.selectedPoint[0], styles.selectedPoint[1]];\r\n\r\n    const [selectedPoint, setSelectedPoint] = React.useState({value: initValue, draw: []});\r\n    const [hovered, setHovered] = React.useState([]);\r\n    //const [popTopLeft, setPopTopLeft] = React.useState([]);\r\n   \r\n\r\n    function handlePointClick(xVal, yVal, xDraw, yDraw) {\r\n        display = styles.xName + \": \" + xVal + \" \" + styles.yName + \": \" + yVal;\r\n        let point = {value: [xVal, yVal], draw: [xDraw, yDraw]}\r\n        globalStyles.clickedPoint = point;\r\n        // if (point.draw[0] === selectedPoint.draw[0]) {\r\n        //     point = { value: [], draw: []}\r\n        //     globalStyles.clickedPoint = null;\r\n        // }\r\n        setSelectedPoint(point);\r\n       \r\n    }\r\n\r\n\r\n    for (let set in sortedData) {\r\n      \r\n        let alreadySelected = false;\r\n        if (!styles.type || sortedData[set].type === \"Mark\" || sortedData[set.type] === \"LineMark\") {\r\n            for (let pair in sortedData[set].drawArray) {\r\n                let color = sortedData[set].color;\r\n                let radius = styles.pointSize;\r\n\r\n                //the draw coordinates\r\n                let xDraw = Number(sortedData[set].drawArray[pair][0]);\r\n                let yDraw = Number(sortedData[set].drawArray[pair][1]);\r\n\r\n                //the unmodified data points\r\n                let currentPair = sortedData[set].xAscending[pair];\r\n                let xVal = currentPair[0];\r\n                let yVal = currentPair[1];\r\n\r\n                // if (currentPair[0] === selectedPoint.value[0] && currentPair[1] === selectedPoint.value[1] && alreadySelected === false) {\r\n                //     color = styles.clickPointColor;\r\n                //     alreadySelected = true;\r\n                //     radius = styles.selectedPointSize;\r\n                // }\r\n                if (currentPair[0] === styles.selectedPoint[0] && currentPair[1] === styles.selectedPoint[1]) {\r\n          \r\n                    color = styles.clickPointColor;\r\n                    //alreadySelected = true;\r\n                  \r\n                \r\n                }\r\n                if (currentPair[0] === selectedPoint.value[0] && currentPair[1] === selectedPoint.value[1] && alreadySelected === false) {\r\n                    color = styles.clickPointColor;\r\n                    alreadySelected = true;\r\n                    radius = styles.selectedPointSize;\r\n                }\r\n\r\n                if (set === hovered[0] && pair === hovered[1]) {\r\n                    radius = styles.selectedPointSize;\r\n                }\r\n\r\n\r\n                // let mouseOver = () => setHovered([set, pair]);\r\n                let mouseOver = () => { handlePointClick(xVal, yVal, xDraw, yDraw) };\r\n                // let mouseExit = () => setHovered([]);\r\n                let mouseExit = () => {setSelectedPoint({ value: [], draw: []}); globalStyles.clickedPoint = null};\r\n                // let mouseDown = () => { handlePointClick(xVal, yVal, xDraw, yDraw) };\r\n                let mouseDown = () => {};\r\n\r\n                circleArray.push(GetCircleSvg(key + pair + set, styles, color, \"none\", \"none\", xDraw, yDraw, radius, radius, mouseDown, mouseOver, mouseExit));\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    return (<svg key = \"graphpoints\">{circleArray}</svg>);\r\n}\r\nexport function getBoxAxis(sortedData, styles) {\r\n    let boxStyle = {\r\n        topLeftPoint: [sortedData.padLeft, sortedData.padTop],\r\n        width: 100 - (sortedData.padLeft * 2),\r\n        height: 100 - (sortedData.padTop * 2),\r\n        fill: \"none\",\r\n        strokeColor: styles.boxAxisColor,\r\n        strokeWidth: styles.axisLineSize,\r\n        radius: styles.boxRadius,\r\n\r\n    }\r\n        ;\r\n    let box = getRectangleSVG(\"boxAxis\", boxStyle);\r\n    let XAxis = getXAxisSVG(sortedData, styles);\r\n    let YAxis = getYAxisSVG(sortedData, styles);\r\n\r\n    return (\r\n        <g key = \"boxaxis\">\r\n            {YAxis}{XAxis}{box}\r\n        </g>\r\n    )\r\n}\r\n\r\nexport function drawCanvas(key, styles, Sketch) {\r\n    styles.heightMultiplier = parseFloat(styles.canvasWidth) / parseFloat(styles.canvasHeight);\r\n    let ViewBox = \"0 0 100 \" + (100 / styles.heightMultiplier).toString();\r\n\r\n    return (\r\n        <div key={key} style={{ position: \"absolute\", top: styles.canvasPadTop, left: styles.canvasPadLeft, width: styles.canvasWidth, height: styles.canvasHeight }}>\r\n            <svg key = {key + \"canvasBox\"} style={{ background: styles.canvasColor }} viewBox={ViewBox}>\r\n                <g key= \"sketch\">{Sketch}</g> \r\n            </svg>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function LineMarkGraph(data, styles) {\r\n\r\n    let defaults = {\r\n        canvasWidth: \"40vw\",\r\n        canvasHeight: \"40vw\",\r\n        canvasPadLeft: \"1vw\",\r\n        canvasPadTop: \"1vw\",\r\n        lineSize: .2,\r\n        fontSize: 2,\r\n        fontColor: \"#7BA7F0\",\r\n        axisColor: \"#7BA7F0\",\r\n        axisLineSize: .2,\r\n        xTicks: 4,\r\n        yTicks: 4,\r\n        tickColor: \"#E8E8E8\t\",\r\n        tickLineSize: .1,\r\n        clickPointColor: \"#C18FE4\",\r\n        pointSize: 1,\r\n        selectedPointSize: 2,\r\n        xName: \"X-axis\",\r\n        yName: \"Y-axis\",\r\n        markerLineColor: \"#FFAAAA\",\r\n        markerLineSize: .3,\r\n        background: \"none\",\r\n        type: [\"Line\", \"Mark\"]\r\n    }\r\n    // data = null;\r\n\r\n    //load default data if none present\r\n    if (!data) {\r\n        data = {\r\n            \"#75B8A0\": [[-50, 0], [100, 200], [140, -10], [60, 20], [90, 90]],\r\n            \"#DCDCAA\": [[-25, 160], [115, 91]]\r\n        };\r\n    }\r\n\r\n    if (!styles) {\r\n        //styles = defaults;\r\n        styles = defaults;\r\n    }\r\n    //apply canvas size in styles to global canvas\r\n\r\n    let Paths = [];\r\n    let plots = [];\r\n    let XAxis = [];\r\n    let YAxis = [];\r\n    let markerLine = [];\r\n    let displaySVG = [];\r\n\r\n    let combinedData = sortXYArray(data, styles, 80, 80);\r\n    let sortedData = combinedData.sortedData;\r\n\r\n    for (let set in sortedData) {\r\n        let Path = null;\r\n        if (!styles.type || sortedData[set].type === \"Line\" || sortedData[set.type] === \"LineMark\") {\r\n            Path = getPathSVG(\"graphPath\" + set, styles, sortedData[set].drawArray, sortedData[set].color, styles.lineSize);\r\n            Paths.push(Path);\r\n        }\r\n    }\r\n\r\n\r\n    plots = GraphPoints(\"pointsarray\", sortedData, styles);\r\n   \r\n    let displayPop = GetDisplayPop(styles);\r\n\r\n    XAxis = getXAxisSVG(combinedData, styles);\r\n    YAxis = getYAxisSVG(combinedData, styles);\r\n    if (styles.drawmarkerLine !== \"false\") {\r\n        markerLine = getmarkerLine(combinedData, styles);\r\n    }\r\n\r\n    if (styles.drawDisplay !== \"false\") {\r\n        displaySVG = getValueDisplay(combinedData, styles);\r\n    }\r\n    let canvas = drawCanvas(\"LineMarkCanvas\", styles, [markerLine, XAxis, YAxis, Paths, plots, displaySVG, displayPop]);\r\n    return (\r\n        canvas\r\n    )\r\n}\r\n\r\n\r\n\r\nexport function FlexButton(key, styles, mouseDown, mouseHover, mouseExit) {\r\n    styles.heightMultiplier = parseFloat(styles.canvasWidth) / parseFloat(styles.canvasHeight);\r\n\r\n\r\n    let buttonStyle = {\r\n        main: {\r\n            topLeftPoint: [0, 0],\r\n            width: 100,\r\n            height: 92,\r\n            fill: styles.btnColor,\r\n            strokeColor: styles.btnStrokeColor,\r\n            strokeWidth: styles.btnStrokeWidth,\r\n            radius: styles.btnRadius,\r\n        },\r\n\r\n        cover: {\r\n            topLeftPoint: [0, 0],\r\n            width: 100,\r\n            height: 100,\r\n            fill: styles.btnColor,\r\n            strokeColor: styles.btnStrokeColor,\r\n            strokeWidth: styles.btnStrokeWidth,\r\n            radius: styles.btnRadius,\r\n            opacity: 0,\r\n            cursor: \"pointer\"\r\n        },\r\n\r\n        shadow: {\r\n            topLeftPoint: [0, 0],\r\n            width: 100,\r\n            height: 100,\r\n            fill: \"black\",\r\n            strokeColor: styles.btnStrokeColor,\r\n            strokeWidth: styles.btnStrokeWidth,\r\n            radius: styles.btnRadius,\r\n            opacity: .6,\r\n        },\r\n        text: {\r\n            placement: styles.btnTextRange\r\n        }\r\n    }\r\n\r\n    let buttonClickedStyle = {\r\n        main: {\r\n            topLeftPoint: [0, 6],\r\n            width: buttonStyle.main.width,\r\n            height: buttonStyle.main.height,\r\n            fill: styles.btnColor,\r\n            strokeColor: styles.btnStrokeColor,\r\n            strokeWidth: styles.btnStrokeWidth,\r\n            radius: styles.btnRadius,\r\n        },\r\n\r\n        cover: {\r\n            topLeftPoint: [0, 0],\r\n            width: 100,\r\n            height: 100,\r\n            fill: \"white\",\r\n            strokeColor: styles.btnStrokeColor,\r\n            strokeWidth: styles.btnStrokeWidth,\r\n            radius: styles.btnRadius,\r\n            opacity: 0,\r\n            cursor: \"pointer\"\r\n        },\r\n\r\n        shadow: {\r\n            topLeftPoint: [0, 5],\r\n            width: 100,\r\n            height: 95,\r\n            fill: \"black\",\r\n            strokeColor: styles.btnStrokeColor,\r\n            strokeWidth: styles.btnStrokeWidth,\r\n            radius: styles.btnRadius,\r\n            opacity: .6,\r\n\r\n        },\r\n        text: {\r\n            placement: [styles.btnTextRange[0], styles.btnTextRange[1] + .75]\r\n        }\r\n    }\r\n\r\n    const [btn, setBtn] = React.useState(buttonStyle);\r\n\r\n\r\n    function moveButton() {\r\n        setBtn(buttonClickedStyle);\r\n    }\r\n    let mouseUp = () => setTimeout(function () { setBtn(buttonStyle) }, 50);\r\n    let mouseDownAction = () => { mouseDown(); moveButton() };\r\n    let shadow = getRectangleSVG(\"dropshadow\", btn.shadow);\r\n\r\n    let button = getRectangleSVG(\"flexButtonrect\", btn.main);\r\n    //let text = getTextSVG(\"btninnertext\", styles.btnDisplay,[0,0], styles.btnFontSize,styles.btnFontColor,styles.btnFontWeight);\r\n    let buttonCover = getRectangleSVG(\"flexButtoncover\", btn.cover, mouseDownAction, mouseExit, mouseHover, mouseUp);\r\n\r\n    let text = getTextSVG(\"btninnertext\", styles.btnDisplay, btn.text.placement, styles.btnFontSize, styles.btnFontColor, styles.btnFontWeight, \"none\")\r\n    let canvas = drawCanvas(key, styles, [shadow, button, text, buttonCover]);\r\n    return (canvas);\r\n}\r\n\r\nexport function DrawShapesGraph(data, styles) {\r\n\r\n    let defaults = {\r\n        canvasWidth: \"40vw\",\r\n        canvasHeight: \"40vw\",\r\n        canvasPadLeft: 0,\r\n        canvasPadTop: 0,\r\n        lineSize: .2,\r\n        fontSize: 2,\r\n        fontColor: \"#7BA7F0\",\r\n        axisColor: \"none\",\r\n        boxAxisColor: \"#7BA7F0\",\r\n        boxRadius: .5,\r\n        axisLineSize: .2,\r\n        xTicks: 1,\r\n        yTicks: 5,\r\n        tickColor: \"#E8E8E8\t\",\r\n        tickLineSize: .1,\r\n        clickPointColor: \"#C18FE4\",\r\n        pointSize: 1,\r\n        selectedPointSize: 2,\r\n        xName: \"\",\r\n        yName: \"thangz\",\r\n        markerLineSize: .3,\r\n        background: \"none\",\r\n    }\r\n\r\n    //load default data if none present\r\n    if (!data) {\r\n        data = {\r\n            \"#DCDCAA\": [[99, 1], [99, 55], [75, 55], [50, 55], [25, 55], [1, 55], [1, 1]],\r\n            \"#75B8A0\": [[99, 1], [99, 30], [75, 25], [50, 30], [25, 30], [1, 30], [1, 1]]\r\n        };\r\n    }\r\n\r\n    if (!styles) {\r\n        styles = defaults;\r\n    }\r\n    \r\n    let Paths = [];\r\n\r\n    let combinedData = sortXYArray(data, styles, 80, 80, true, [[0, 0], [100, 100]]);\r\n\r\n    let sortedData = combinedData.sortedData;\r\n\r\n    for (let set in sortedData) {\r\n        \r\n        let Path = getPathSVG(\"graphPath\" + set, styles, sortedData[set].drawArray, sortedData[set].color, styles.lineSize, 0, 0, sortedData[set].color);\r\n        Paths.push(Path);\r\n    }\r\n\r\n    let boxAxis = getBoxAxis(combinedData, styles);\r\n    let canvas = drawCanvas(\"shapescanvas\", styles, [boxAxis, Paths]);\r\n    return (canvas);\r\n\r\n}\r\n\r\nfunction GetDisplayPop(styles, selectedPoint) {\r\n    let displayPop = {};\r\n    let topLeftPoint = [];\r\n    let pointy = [];\r\n    let text = [];\r\n    let xVal = null;\r\n    let yVal = null;\r\n    let xHeaderFontSize = styles.displayFontSize;\r\n    let yHeaderFontSize = styles.displayFontSize;\r\n    let xValueFontSize = xHeaderFontSize * 1.25;\r\n    let yValueFontSize = yHeaderFontSize * 1.25;\r\n    let xHeaderXPosition = null;\r\n    let yHeaderXPosition = null;\r\n    let xValueXPosition = null;\r\n    let yValueXPosition = null; \r\n    let flip = false;\r\n    if (globalStyles.clickedPoint) {\r\n        \r\n        topLeftPoint = [globalStyles.clickedPoint.draw[0] - 6, globalStyles.clickedPoint.draw[1] -29];\r\n        //flip the box when point is near the top of the graph\r\n        if (topLeftPoint[1] <= 9) {\r\n            topLeftPoint[1] += 40\r\n            flip = true;\r\n        }\r\n        displayPop = {\r\n            topLeftPoint: [topLeftPoint[0] + 2, topLeftPoint[1]],\r\n            fill: styles.clickPointColor,\r\n            width: 8,\r\n            height: 18,\r\n            radius: .5\r\n        }\r\n        //flip the triangle when point is near top of the graph\r\n        if (flip === false) {\r\n            pointy = getPathSVG(\r\n                \"popbox\", styles, [\r\n                [topLeftPoint[0] + 4.5, topLeftPoint[1] + displayPop.height -.1], \r\n                [topLeftPoint[0] + 7.5, topLeftPoint[1] + displayPop.height -.1], \r\n                [topLeftPoint[0] + 6, topLeftPoint[1] + displayPop.height + 4]\r\n            ], \"none\", \"0vw\", 0, 0, styles.clickPointColor)\r\n        }\r\n        else {\r\n            pointy = getPathSVG(\r\n                \"popbox\", styles, [\r\n                [topLeftPoint[0] + 4.5, topLeftPoint[1] + .1], \r\n                [topLeftPoint[0] + 7.5, topLeftPoint[1] + .1], \r\n                [topLeftPoint[0] + 6, topLeftPoint[1] - 4]\r\n            ], \"none\", \"0vw\", 0, 0, styles.clickPointColor)\r\n        }\r\n\r\n        xVal = globalStyles.clickedPoint.value[0].toString() + styles.xSymbol;\r\n        if (xVal.length > 8){\r\n            xValueFontSize = 12/xVal.length;\r\n         }\r\n      \r\n        yVal = commaFormat(globalStyles.clickedPoint.value[1].toString()) + styles.ySymbol;\r\n        if (yVal.length > 8){\r\n           yValueFontSize = 12/yVal.length;\r\n        }\r\n     \r\n        \r\n    \r\n        //this calculates the center position of the text based on the font size and length of input\r\n        xHeaderXPosition = (topLeftPoint[0] + 5.75) - ((xHeaderFontSize/3.11) * (styles.popXDisplay.toString().length -1))  + \"%\";\r\n        yHeaderXPosition = (topLeftPoint[0] + 5.75) - ((yHeaderFontSize/3.11) * (styles.popYDisplay.toString().length -1))  + \"%\";\r\n\r\n        xValueXPosition = (topLeftPoint[0] + 5.75) - ((xValueFontSize/3.11) * (xVal.toString().length -1))  + \"%\";\r\n        yValueXPosition = (topLeftPoint[0] + 5.75) - ((yValueFontSize/3.11) * (yVal.toString().length -1))  + \"%\";\r\n        \r\n        //calc specific if statement, remove first part later\r\n        let irrFontSize = 2;\r\n        let irrHeaderXPosition = (topLeftPoint[0] + 5.75) - ((irrFontSize/3.11) * (xVal.toString().length -1))  + \"%\";\r\n        if (globalStyles.clickedPoint.value[1] === 0) {\r\n            text.push(getTextSVG(\"Xname\", \"IRR\", [(topLeftPoint[0] + 5) - ((xHeaderFontSize/3.11) * (styles.popXDisplay.toString().length -1))  + \"%\", topLeftPoint[1] + 6 + \"%\"], 2, styles.background, \"bold\", ))\r\n        text.push(getTextSVG(\"Xvalue\",  xVal, [irrHeaderXPosition, topLeftPoint[1] + 12 + \"%\"], irrFontSize, styles.background, \"bold\", ))\r\n            \r\n        }\r\n        //keep this part, remove from if statement\r\n        else {\r\n        text.push(getTextSVG(\"Xname\", styles.popXDisplay, [xHeaderXPosition, topLeftPoint[1] + 4 + \"%\"], xHeaderFontSize, styles.background, styles.displayFontWeight, ))\r\n        text.push(getTextSVG(\"Xvalue\",  xVal, [xValueXPosition, topLeftPoint[1] + 8 + \"%\"], xValueFontSize, styles.background, \"bold\", ))\r\n        text.push(getTextSVG(\"yname\", styles.popYDisplay, [yHeaderXPosition, topLeftPoint[1] + 12 + \"%\"], yHeaderFontSize, styles.background, styles.displayFontWeight, ))\r\n        text.push(getTextSVG(\"yvalue\",   yVal, [yValueXPosition, topLeftPoint[1] + 16 + \"%\"], yValueFontSize, styles.background, \"bold\", ))\r\n\r\n\r\n        }\r\n        \r\n        \r\n\r\n        // text.push(getTextSVG(\"Yname\", styles.popYDisplay + \" \" + globalStyles.clickedPoint.value[1] + styles.ySymbol, [topLeftPoint[0] + 1 + \"%\", topLeftPoint[1] + 12 + \"%\"], styles.displayFontSize, styles.background, styles.displayFontWeight, ))\r\n\r\n    }\r\n\r\n    // console.log(pointy);\r\n    if (displayPop.topLeftPoint) {\r\n        return (\r\n            <svg key= \"displayPOP\">\r\n                    \r\n                 {getRectangleSVG(\"displaything\", displayPop)}\r\n                 {pointy}\r\n                 {text}\r\n                 \r\n            </svg>\r\n            \r\n         \r\n        )\r\n        \r\n    }\r\n\r\n}\r\n\r\n//a blank object is getting passed to the first two params for some reason this is a placeholder import as objects\r\nfunction FlexGraph(props, props2, data, styles) {\r\n\r\n    return (LineMarkGraph(data, styles));\r\n}\r\n\r\n\r\nexport default FlexGraph;","import React from 'react';\r\nimport './App.css';\r\nimport '../node_modules/react-vis/dist/style.css';\r\nimport {styles} from './App.js';\r\nimport {calcData} from \"./App.js\";\r\nimport {LineMarkGraph} from './flexgraph.js'\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction Graph()  {\r\n  let graphStyles = {\r\n    canvasWidth: \"43vw\",\r\n    canvasHeight: \"17vw\",\r\n    canvasPadLeft: \"2vw\",\r\n    canvasPadTop: \"1vw\",\r\n    labelColor: \"none\",\r\n    lineSize: .2,\r\n    fontSize: 1.5,\r\n    displayFontSize: 1.2,\r\n    fontColor: styles.darkGray,\r\n    axisColor: styles.canvasColor,\r\n    axisLineSize: .3,\r\n    xTicks: 4,\r\n    yTicks: 4,\r\n    tickColor: styles.canvasColor,\r\n    tickLineSize: .1,\r\n    clickPointColor: \"#47C4C1\",\r\n    pointSize: 1,\r\n    selectedPointSize: 1.5,\r\n    xName: \"RATE OF RETURN (%)\",\r\n    yName: \"NPV ($)\",\r\n    popXDisplay: \"ROR\",\r\n    popYDisplay: \"NPV\",\r\n    markerLineColor: styles.darkGray,\r\n    markerLineSize: .2,\r\n    background: styles.lightCanvasColor,\r\n    drawDisplay: \"false\",\r\n    xSymbol: \"%\",\r\n    ySymbol: \"\",\r\n    selectedPoint: calcData.npvSnap[0], \r\n\r\n\r\n    drawPoints: \"false\",\r\n    drawLines: \"true\",\r\n    type: [\"Line\", \"Mark\"],\r\n    // selectedPoint: [calcData.r, calcData.theNPV]\r\n  }\r\n\r\n\r\n\r\n\r\n  \r\n  // let calcInput = [[0,0]];\r\n  // if (calcData.npvSnap != 0) {\r\n  //   calcInput = calcData.npvSnap\r\n  // }\r\n  \r\n  let calcInput = [[0,0]];\r\n  let npvSnap = [[0,0]]\r\n\r\n\r\n    \r\n  calcInput = calcData.allNpvPoints;\r\n\r\n\r\n\r\n    \r\n  npvSnap = calcData.npvSnap;\r\n\r\n\r\n \r\n  let data = {\r\n    \"#47C4C1\": calcInput,\r\n    \"#ADDCE3\": npvSnap\r\n  };\r\n\r\n\r\n\r\n\r\n// let styles = [];\r\nlet graph = LineMarkGraph(data, graphStyles);\r\n\r\n\r\n\r\n//<FlexibleXYPlot margin={{left: 0, right: 0, top: 0, bottom: 0}}>    \r\n    return (\r\n      <div>\r\n                  <div style={{color: styles.darkGray, fontSize: \".7vw\", position: \"absolute\", transform: \"rotate(-90deg)\", left: \"-1%\", top: \"48%\"}}>NPV ($)</div>\r\n        <div style={{color: styles.darkGray, fontSize: \".7vw\", position: \"absolute\", left: \"43%\", top: \"93%\"}}>RATE OF RETURN (%)</div>\r\n          {graph}\r\n    \r\n      </div>\r\n    );\r\n  \r\n}\r\n\r\nexport default Graph;","import React from 'react';\r\nimport {calcData, styles, commaDecimal} from \"./App.js\";\r\nimport {DrawShapesGraph} from './flexgraph.js'\r\n\r\nlet blueCounter = 0\r\n\r\n//for the non build verion, use .69\r\n// let flowForward = .91;\r\nlet flowForward = .905;\r\nlet flowForwardFast = .91;\r\n\r\nlet redCounter = 0\r\n// let negIncrease = Math.PI * 2/9.24;\r\n// let flowBackward = .892;\r\nlet flowBackward = .89;\r\nlet prevBlueHeight = 0;\r\nlet prevRedHeight = 0;\r\nexport default function JellyJar() {\r\n\r\n\r\n\r\n  calcData.posFlowsTotal = 0;\r\n  calcData.negFlowsTotal = 0;\r\n  calcData.highestModFlow = [];\r\n  calcData.positiveFlows = [];\r\n  calcData.negativeFlows = [];\r\n  calcData.averagePositiveFlow = [];\r\n  calcData.averageNegativeFlow = [];\r\n\r\n  for (let flow in calcData.modCashFlows) {\r\n    let flowValue = calcData.modCashFlows[flow];\r\n  \r\n    if (flowValue > 0) {\r\n      if (flowValue > calcData.highestModFlow) {\r\n        calcData.highestModFlow = flowValue;\r\n      }\r\n      calcData.positiveFlows.push(flowValue);\r\n      calcData.posFlowsTotal += flowValue;\r\n    }\r\n    else if (flowValue < 0) {\r\n      let inverseFlowValue = flowValue * -1;\r\n\r\n      if (inverseFlowValue > calcData.highestModFlow) {\r\n        calcData.highestModFlow = inverseFlowValue;\r\n      }\r\n      calcData.negativeFlows.push(inverseFlowValue);\r\n      calcData.negFlowsTotal += inverseFlowValue;\r\n    }\r\n  }\r\n  if (calcData.posFlowsTotal !== 0) {\r\n    calcData.averagePositiveFlow = calcData.posFlowsTotal/calcData.modCashFlows.length;\r\n  }\r\n  if (calcData.negFlowsTotal !== 0) {\r\n    calcData.averageNegativeFlow = calcData.negFlowsTotal/calcData.modCashFlows.length;\r\n  }\r\n\r\n  let containerHeight = calcData.highestFlow;\r\n  let heightMultiplier = containerHeight / 92;\r\n  let negativeLiquidHeight = Number(calcData.averageNegativeFlow/heightMultiplier) + 2;\r\n  let positiveLiquidHeight = Number(calcData.averagePositiveFlow/heightMultiplier) + 2;\r\n\r\n\r\n\r\n\r\n\r\n\r\n  // calcData.positiveFlows.sort();\r\n  // calcData.negativeFlows.sort();\r\n\r\n\r\n\r\n  let jellyStyles = {\r\n    canvasWidth: \"15vw\",\r\n    canvasHeight: \"11vw\",\r\n    canvasPadLeft: \"-.7vw\",\r\n    canvasPadTop: 0,\r\n    lineSize: .2,\r\n    fontSize: 2,\r\n    fontColor: \"none\",\r\n    axisColor: \"none\",\r\n    boxAxisColor: styles.darkGray,\r\n    boxRadius: .5,\r\n    axisLineSize: .2,\r\n\r\n    tickColor: \"none\",\r\n    tickLineSize: .1,\r\n    clickPointColor: \"#C18FE4\",\r\n    pointSize: 1,\r\n    selectedPointSize: 2,\r\n\r\n\r\n    markerLineSize: .3,\r\n    canvasColor: \"none\",\r\n}\r\n  let positiveLiquidDraw = [];\r\n  let negativeLiquidDraw = [];\r\n\r\n  \r\n  //wave animation on slider change\r\n  function getRedSine() {\r\n    // console.log(\"prev \" + prevRedHeight + \" current \" + negativeLiquidHeight)\r\n    // if (prevRedHeight < negativeLiquidHeight) {\r\n    // redCounter += flowBackward\r\n    // }\r\n    // else {\r\n      redCounter += flowForward\r\n    // }\r\n    let redy = Math.sin(redCounter) /2 + .5;\r\n    return redy *2.5\r\n  }\r\n  function getSine() {\r\n    // if (prevBlueHeight < positiveLiquidHeight) {\r\n    //   blueCounter += flowForward\r\n    // }\r\n    // else {\r\n      blueCounter += flowForwardFast\r\n    // }\r\n \r\n   let y = Math.sin(blueCounter) /2 + .5;\r\n   return y * 2.5\r\n   \r\n\r\n    \r\n  }\r\n\r\n//load default data if none present \"#F50057\" \"#27293E\"\r\n    if (positiveLiquidHeight > 2) {\r\n      let height = positiveLiquidHeight + negativeLiquidHeight;\r\n      positiveLiquidDraw.push([98, 2], [98, height + getSine()]);\r\n\r\n      for (let i = 92; i > 2; i -= 8) { \r\n        positiveLiquidDraw.push([i, height + getSine()])\r\n      }\r\n      \r\n     positiveLiquidDraw.push( [2, height + getSine()], [2, 2]);\r\n    }\r\n\r\n    if (negativeLiquidHeight > 2) {\r\n      negativeLiquidDraw.push([98, 2], [98, negativeLiquidHeight + getRedSine()]);\r\n      for (let i = 92; i > 2; i -= 8) {\r\n        negativeLiquidDraw.push([i, negativeLiquidHeight + getRedSine()])\r\n      }\r\n\r\n      negativeLiquidDraw.push([2, negativeLiquidHeight + getRedSine()], [2, 2] )\r\n  \r\n    }\r\n\r\n    let data = {\r\n      \"#27293E\": positiveLiquidDraw,\r\n      \"#F50057\": negativeLiquidDraw\r\n    }\r\n\r\n\r\n //<input style = {{position: \"absolute\", top: -120}} onChange={(event) => {flowForward = parseFloat(event.target.value); console.log(flowForward)}}></input>\r\n\r\n  prevBlueHeight = positiveLiquidHeight;\r\n  prevRedHeight = negativeLiquidHeight;\r\n  return (\r\n   \r\n        DrawShapesGraph(data, jellyStyles)\r\n \r\n  \r\n  );\r\n}\r\n\r\nexport function jellyDisplay() {\r\n  let posStyle = {\r\n    fontWeight: \"medium\",\r\n    color : styles.positiveColor,\r\n    fontSize: \"1vw\",\r\n    textAlign: \"center\",\r\n    margin: 0,\r\n  }\r\n\r\n  let plusStyle = {\r\n    fontWeight: \"bold\",\r\n    color : styles.canvasColor,\r\n    fontSize: \".8vw\",\r\n    textAlign: \"center\",\r\n    margin: \"-.2vw\",\r\n  }\r\n\r\n  let negStyle = {\r\n    fontWeight: \"medium\",\r\n    color : styles.negativeColor,\r\n    fontSize: \"1vw\",\r\n    textAlign: \"center\",\r\n    marginLeft: \"\",\r\n    marginTop: 0,\r\n    marginBottom: 0,\r\n  }\r\n  function negOutput() {\r\n    if (calcData.negFlowsTotal !== 0) {\r\n      return commaDecimal(calcData.negFlowsTotal * -1);\r\n    }\r\n    else {\r\n      return 0;\r\n    }\r\n  }\r\n\r\n \r\n  return (\r\n    <div style = {{position: \"absolute\", width: \"100%\",height: \"16%\", bottom: \"1%\", background: \"none\"}}>\r\n      <p style = {posStyle}>{commaDecimal(calcData.posFlowsTotal)}</p>\r\n      <p style = {plusStyle}>+</p>\r\n      <p style = {negStyle}>{negOutput()}</p>\r\n    </div>\r\n  )\r\n}","import React from 'react';\nimport Sketch from './sketch'\nimport './App.css';\nimport Graph from './graph.js';\nimport JellyJar, {jellyDisplay} from './jellyJar.js';\nimport bubble from './svg/bubble2.svg'\nimport help from './help.json'\n// import findIRR from './irr.js';\nimport { getPathSVG, drawCanvas, FlexButton} from \"./flexgraph.js\";\n\n\nexport var modCashFlows = [];\n\nconst dollarFormat = (number) => Intl.NumberFormat('en-US', {\n  style: 'currency',\n  currency: 'USD',\n  minimumFractionDigits: 2\n}).format(number);\n\n\nfunction removeCommas(num) {\n\n  if (num) {\n    return parseFloat(num.replace(/,/g, ''));\n  }\n  else {\n    return num;\n  }\n} \n\nfunction rndNearTenth(num) {\n  return parseFloat((Math.round(num * 100) / 100).toFixed(2));\n}\n\nexport const commaDecimal = (number) => Intl.NumberFormat('en-US', {\n  style: \"decimal\",\n  maximumFractionDigits: 2,\n  minimumFractionDigits: 2\n}).format(number);\n\nexport let calcData = {\n  initialInvest: 0,\n  cashFlows: [0, 0, 0, 0, 0],\n  modCashFlows: [],\n  positiveFlows: [],\n  negativeFlows: [],\n  highestFlow: [],\n  highestModFlow: [],\n  averagePositiveFlow: [],\n  averageNegativeFlow: [],\n  posFlowsTotal: 0,\n  negFlowsTotal: 0,\n  theNPV: 0,\n  npvSnap: [],\n  snapGraphX: 0,\n  r: \"50.00\",\n  testVar: 0,\n  irr: null,\n  discountFactor: .67,\n  avgNpvYr: 0,\n  allNpvPoints: []\n};\nexport let styles = {\n\n  canvasColor: \"#E9E9E9\",\n  lightCanvasColor: \"#FFFFFF\",\n  textColor: \"#000000\",\n  innerCashBoxColor: \"#FBFBFB\",\n  medLightGray: \"#D8D8D8\",\n  negativeColor: \"#F50057\",\n  positiveColor: \"#27293E\",\n  darkGray: \"#3A3A3A\",\n  gray: \"#8C8E8E\",\n  irrColor: \"#53DD6C\",\n  npvBtnColor: \"#57A773\",\n  boxRadius: \".5vw\",\n  calcPadLeft: \"8%\",\n  calcPadTop: \"10%\",\n  bottomRowPadTop: \"57%\",\n  firstRowHeight: \"44.5%\",\n  secondRowHeight: \"38%\",\n  lightBlue: \"#47C4C1\"\n}\n\nconst calcCanvas = {\n  position: \"absolute\",\n  left: \"13%\",\n  top: \"0%\",\n\n  background: styles.canvasColor,\n  height: \"50vw\",\n  width: \"74vw\",\n}\n\nconst calcTitle = {\n  position: \"absolute\",\n  fontWeight: \"bold\",\n  fontSize: \"2vw\",\n  left: styles.calcPadLeft,\n  top: parseInt(styles.calcPadTop) - 11 + \"%\",\n}\n//..........CASHBOX......//\n\nconst cashFlowBox = {\n  position: \"absolute\",\n  top: styles.calcPadTop,\n  left: styles.calcPadLeft,\n  background: styles.lightCanvasColor,\n  height: \"57%\",\n  width: \"18%\",\n  borderRadius: \".5vw\"\n}\nconst innerCashBox = {\n  position: \"absolute\",\n  top: \"8%\",\n  background: styles.innerCashBoxColor,\n  height: \"83%\",\n  width: \"100%\",\n  overflowY: \"scroll\",\n  overflowX: \"auto\"\n  //fontWeight: \"800\"\n}\n\nconst cashContents = {\n  background: \"none\",\n  width: \"100%\",\n  height: \"2.6vw\",\n}\n\nconst cashBottom = {\n  position: \"absolute\",\n  top: \"88%\",\n  left: \"0%\",\n  width: \"100%\",\n  height: \"12%\",\n  background: \"none\",\n  fontWeight: \"500\",\n  fontSize: \".9vw\",\n  color: styles.darkGray\n}\n\nconst lineBreak = {\n  background: \"#F0F0F0\",\n  height: \"1px\",\n  left: \"15%\",\n  width: \"75%\",\n  position: \"absolute\"\n}\n\n//.....DISCOUNT RATE BOX.........\n\nconst dRateBox = {\n  position: \"absolute\",\n  top: 70 + \"%\",\n  left: styles.calcPadLeft,\n  background: styles.lightCanvasColor,\n  height: \"15%\",\n  width: cashFlowBox.width,\n  borderRadius: styles.boxRadius\n}\nconst sliderStyle = {\n  position: \"absolute\",\n  top: \"36%\",\n  left: \"11%\",\n  background: \"styles.canvasColor\",\n  cursor: \"pointer\",\n  width: \"75%\",\n  height: \"25%\"\n}\nconst DRateText = {\n  position: \"absolute\",\n  fontWeight: \"bold\",\n  fontSize: \".8vw\",\n  left: \"1vw\",\n  top: \".8vw\"\n}\nconst DFactorText = {\n  position: \"absolute\",\n  fontWeight: \"bold\",\n  fontSize: \".8vw\",\n  left: \"1vw\",\n  top: \"65%\"\n}\n//.......SKETCHBOX...........\nconst sketchBox = {\n  position: \"absolute\",\n  top: styles.calcPadTop,\n  left: \"29%\",\n  background: styles.lightCanvasColor,\n  height: styles.firstRowHeight,\n  width: \"41%\",\n  borderRadius: styles.boxRadius\n}\n\n//.....NpvStatBOX.....\n\nconst NpvStatBox = {\n  position: \"absolute\",\n  top: styles.calcPadTop,\n  left: \"73%\",\n  background: styles.lightCanvasColor,\n  height: styles.firstRowHeight,\n  width: \"18.5%\",\n  borderRadius: styles.boxRadius,\n  overflowX: \"hidden\"\n}\n\nconst avgNPVHeader = {\n\n  position: \"relative\",\n  fontWeight: \"medium\",\n  fontSize: \"1.2vw\",\n  top: 0,\n  color: styles.gray,\n  textAlign: \"center\",\n  marginTop: \"-.5vw\",\n  marginBottom: 0\n}\n\n//......GRAPH BOX.......\n\nconst graphBox = {\n  position: \"absolute\",\n  top: styles.bottomRowPadTop,\n  left: \"29%\",\n  background: styles.lightCanvasColor,\n  height: styles.secondRowHeight,\n  width: \"62.5%\",\n  borderRadius: styles.boxRadius\n}\n\nconst header1 = {\n  fontWeight: \"bold\",\n  fontSize: \".8vw\",\n  textAlign: \"center\"\n}\n\nfunction dollSymbol(value, color) {\n  let numSize = .6;\n  let numX = \"39%\";\n  let numY = \"86%\";\n  if (value > 9) {\n    numSize = .5;\n    numX = \"31%\"\n    numY = \"85%\"\n  }\n\n  return (\n    <svg style={{ position: \"absolute\", background: \"none\" }} height=\"2.6vw\" width=\"1.5vw\" >\n      <text key=\"dollarSymbol\" style={{ fontSize: \"2vw\", fontWeight: \"400\", fill: color }} x=\"8%\" y=\"75%\">$</text>\n      <circle key=\"dollcircle\" style={{ fill: color }} cx=\"52%\" cy=\"78%\" r=\"18%\" />\n      <text key=\"innernumber\" style={{ fontSize: numSize + \"vw\", fontWeight: \"700\", fill: styles.innerCashBoxColor }} x={numX} y={numY}>{value}</text>\n    </svg>\n  )\n}\n\n//the bottom arrow is getting shifted up whenever the page reloads for some reason\n\nconst drawArrows = () => {\n  let canvasStyles = {\n    canvasPadLeft: 0,\n    canvasPadTop: 0,\n    canvasWidth: \"74vw\",\n    canvasHeight: \"50vw\",\n    canvasColor: \"none\"\n  };\n\n  let firstArrowLeft = 27;\n  let firstArrowTop = 30;\n  let secondArrowLeft = 71;\n  let secondArrowTop = 30;\n  // let bottomArrowLeft = 80;\n  // let bottomArrowTop = 56\n  let secondArrow = getPathSVG(\"drawArrowb\", canvasStyles, [[secondArrowLeft, secondArrowTop], [secondArrowLeft, secondArrowTop + 3], [secondArrowLeft + 1.25, secondArrowTop + 1.5]], \"none\", 0, 0, 0, styles.medLightGray);\n  let firstArrow = getPathSVG(\"drawArrowa\", canvasStyles, [[firstArrowLeft, firstArrowTop], [firstArrowLeft, firstArrowTop + 3], [firstArrowLeft + 1.25, firstArrowTop + 1.5]], \"none\", 0, 0, 0, styles.medLightGray);\n  // let thirdArrow = getPathSVG(\"thirdarrow\", canvasStyles, [[bottomArrowLeft, bottomArrowTop], [bottomArrowLeft + 3.5, bottomArrowTop], [bottomArrowLeft + 1.75, bottomArrowTop + 2]], \"none\", 0, 0, 0, styles.medLightGray);\n  let canvas = drawCanvas(\"arrowcanvas\", canvasStyles, [firstArrow, secondArrow]);\n  return (canvas);\n}\n    \nfunction npvResult() {\n  const style = {\n    position: \"relative\",\n    fontWeight: \"medium\",\n    fontSize: \"2vw\",\n    top: 0,\n    color: styles.lightBlue,\n    textAlign: \"center\",\n    marginTop: \"-.5vw\",\n    marginBottom: \"0vw\"\n  }\n  // let length = parseInt(calcData.theNPV.toString().length);\n  var npvResult = dollarFormat(calcData.theNPV);\n  let npvLength = npvResult.length\n  if (npvLength >= 12) {\n    style.fontSize = 20/npvLength + \"vw\";\n  }\n  return (\n   <p style={style}>{npvResult}</p> \n  )\n}\n\nlet HelpButton = (mouseDown, mouseOver) => {\n  let col = styles.darkGray;\n  let activeCol= styles.lightBlue;\n  let color = col;\n\n  const [active, setActive] = React.useState(false);\n  let activeOut = \"true\";\n\n  if (active) {\n    color = activeCol\n    activeOut = \"false\"\n  }\n  else {\n    color = col\n    activeOut = \"true\"\n  }\n\n  return (\n    <svg active={activeOut} style={{userSelect: \"none\", cursor: \"pointer\", background: \"none\", position: \"absolute\", right: \".5vw\", borderRadius: \"0vw\", marginTop: \".5vw\"}} height=\"1.8vw\" width=\"1.8vw\" onMouseDown={() => {mouseDown(); active ? setActive(false) : setActive(true); }} >\n      <text style={{ fontSize: \"1.4vw\"}} fill={color} x=\"25%\" y=\"78%\">?</text>\n      <rect\n          x={\"5%\"} y={\"12%\"} //array [x,y]\n          width=\"86%\" height=\"86%\"\n          fill=\"none\" //string\n          stroke={color} //string\n          strokeWidth=\".05vw\"\n          rx={0}\n          style={{userSelect: \"none\"}}\n      />\n    </svg>\n  )\n}\n\nfunction App() {\n\n  //hook that makes sure dom is rerendered if a button is clicked, even if theNpv hasn't changed\n  const [npvRan, setNpvRan] = React.useState(0);\n  calcData.testVar = npvRan;\n\n  function rorInput() {\n    function percentBox() {\n      return (\n      <input\n        style={{\n          position: \"absolute\",\n          // background: \"none\",\n          width: \"3.1vw\",\n          // height: \"2.6vw\",\n          top: \"-.4vw\",\n          left: \"7.4vw\",\n          fontSize: \"1.1vw\",\n          borderWidth: \".05vw\",\n          color: styles.lightBlue\n        }}\n        key={\"rorinput\"}\n        value={calcData.r}\n        type=\"text\" name={\"ror\"}\n        onChange={(event) => {\n          if (event.target.value < 0) {\n            calcData.r = 0;\n          }\n          else if (event.target.value > 100) {\n            calcData.r = 100;\n          }\n          else {\n            calcData.r = event.target.value;\n          }\n          calcData.discountFactor = rndNearTenth(1 / (1 + (calcData.r / 100))); findNPV(calcData.cashFlows, calcData.r, calcData.initialInvest)\n        }}/>\n      )\n    }\n\n\n    return (\n      <div style={DRateText}>RATE OF RETURN:{percentBox()}<p style = {{ fontSize: \"1.3vw\", position: \"absolute\", top: \"-2vw\", left: \"11vw\", color: styles.lightBlue}}>%</p></div>\n    )\n  }\n\n\n  function handleCashFlowChange() {\n    calcData.allNpvPoints = [];\n    calcData.highestFlow = 0;\n    //set highest flow \n    for (let flow in calcData.cashFlows) {\n      let value = parseFloat(calcData.cashFlows[flow])\n      if (value < 0) {\n        value *= -1;\n      }\n      if (value > calcData.highestFlow) {\n        calcData.highestFlow = value\n      }\n    }\n\n    let yearZero = removeCommas(calcData.cashFlows[0]);\n    calcData.initialInvest = yearZero;\n    //find the npv for every point between 1 and 100\n    for (let i = 0; i <= 100; i++) {\n      let npvOut = null;\n      let rDec = i / 100;\n      let npv = null;\n      for (let flow = 1; flow < calcData.cashFlows.length; flow++) {\n        let cashFlow = removeCommas(calcData.cashFlows[flow]);\n        let powerOf = parseInt(flow);\n        let discountedFlow = cashFlow / Math.pow(1 + rDec, powerOf);\n        npv += discountedFlow;\n      }\n      npvOut = Math.round((npv + yearZero) * 100) / 100;\n      calcData.allNpvPoints.push([i, npvOut]);\n    }\n\n    findNPV(calcData.cashFlows, calcData.r);\n    calcData.npvSnap = [];\n\n  }\n  function minusButton(value) {\n    return (\n      <svg style={{cursor: \"pointer\", background: styles.canvasColor, position: \"absolute\", left: \"10.8vw\", borderRadius: \"0vw\", marginTop: \"0vw\"}} height=\"1.2vw\" width=\"1.2vw\" onMouseDown={() => { calcData.cashFlows.splice(value, 1); handleCashFlowChange() }} >\n\n        {/* <circle style={minusButtonStyle} cx=\"56%\" cy=\"50%\" r=\"32%\" /> */}\n        <line stroke={styles.darkGray} strokeWidth=\".1vw\" x1=\"30%\" y1=\"70%\" x2=\"70%\" y2=\"30%\" />\n        <line stroke={styles.darkGray} strokeWidth=\".1vw\" x1=\"70%\" y1=\"70%\" x2=\"30%\" y2=\"30%\" />\n      </svg>\n    )\n  }\n\n  const [helpBlurb, setHelpBlurb] = React.useState([]);\n \n  let helpButtonAction = () => {\n    if (helpButton.props.active === \"false\") {\n\n      setHelpBlurb([]);\n    \n     \n    }\n    else {\n   \n      setHelpBlurb(\n        <div className=\"container\" style = {{position: \"absolute\", borderRadius: styles.boxRadius, color: \"styles.lightCanvasColor\", background: \"none\", right: \"2.5vw\", opacity: 1, top: \"1vw\", width: \"21.5vw\", height: \"10vw\"}}>\n          <img style={{position: \"absolute\"}} src={bubble} />\n          <div style = {{margin: 0, padding: 0, background: \"none\", fontSize: \"1vw\", top: \".2vw\", fontWeight: \"bold\", left: \"2%\", color: styles.lightCanvasColor , position: \"absolute\", width: \"92%\"}}>{help.header}</div>\n          <div style = {{margin: 0, padding: 0, background: \"none\", fontSize: \"1vw\", top:\"1.8vw\",left: \"2%\", color: styles.lightCanvasColor , position: \"absolute\", width: \"92%\"}}>{help.text}</div>\n          <a style = {{margin: 0, padding: 0, background: \"none\", fontSize: \"1.2vw\", fontWeight: \"bold\", bottom:\"1.4vw\",left: \"28%\", color: styles.lightCanvasColor , position: \"absolute\", width: \"92%\"}} href={help.link} target=\"_blank\">WATCH VIDEO</a>\n        </div>\n      );\n      \n \n    }\n  }\n\n  let helpButton = HelpButton(helpButtonAction);\n\n  // function autoButton() { \n  //   return (\n  //     <div>\n  //       <button onClick={() => { calcData.irr = Math.round((findIRR(calcData.cashFlows, calcData.initialInvest)[0]) * 100) / 100; setNpvRan(npvRan + 1) }}>AUTO IRR</button>\n  //       <p>irr:{calcData.irr}</p>\n  //     </div>\n  //   )\n  // }\n\n  function plotButton() {\n    let buttonStyle = {\n      canvasWidth: \"13%\",\n      canvasHeight: \"2.6%\",\n      canvasPadLeft: \"10.6%\",\n      canvasPadTop: \"88%\",\n      btnColor: styles.gray,\n      btnStrokeColor: \"none\",\n      btnStrokeWidth: 1,\n      btnRadius: 3,\n      btnDisplay: \"SHOW POINT ON GRAPH\",\n      btnFontSize: 7,\n      btnFontColor: styles.lightCanvasColor,\n      btnFontWeight: \"medium\",\n      btnTextRange: [9.5, 12.2]\n    }\n\n    let mouseDown = () => {\n      if (calcData.theNPV) {\n        calcData.npvSnap.unshift([Number(calcData.r), Number(calcData.theNPV)]);\n        setNpvRan(npvRan + 1);\n      }\n    };\n    return FlexButton(\"plotButton\", buttonStyle, mouseDown)\n  }\n\n  function addMoreButton() {\n    let buttonStyle = {\n      canvasWidth: \"60%\",\n      canvasHeight: \"12%\",\n      canvasPadLeft: \"20%\",\n      canvasPadTop: \"39%\",  \n      btnColor: styles.gray,\n      btnStrokeColor: \"none\",\n      btnStrokeWidth: 1,\n      btnRadius: 4,\n      btnDisplay: \"ADD MORE\",\n      btnFontSize: 10,\n      btnFontColor: styles.lightCanvasColor,\n      btnFontWeight: \"medium\",\n      btnTextRange: [25, 13]\n    }\n\n    let mouseDown = () => {calcData.cashFlows.push(0); handleCashFlowChange() };\n    return FlexButton(\"addmoreButton\", buttonStyle, mouseDown)\n  }\n\n  function CashFlowContents() { \n    let contents = [];\n    for (let value in calcData.cashFlows) {\n      let color = styles.positiveColor;\n\n      if (calcData.cashFlows[value] < 0) {\n        color = styles.negativeColor;\n      }\n      contents.push(\n        <div key={\"cashflow\" + value}>\n          <div style={cashContents}>\n\n            {dollSymbol(parseInt(value), color)}\n            <input style={{\n              position: \"absolute\",\n              background: \"none\",\n              width: \"8vw\",\n              height: \"2.6vw\",\n              left: \"2vw\",\n              fontSize: \"1.8vw\",\n              border: \"none\",\n              color: color\n            }} key={\"cashflow\" + value}\n              value={calcData.cashFlows[value]}\n              type=\"text\" name={value + \"cashFlow\"}\n              onChange={(event) => {\n                \n                calcData.cashFlows[value] = event.target.value;\n                handleCashFlowChange()\n              }} />\n            {minusButton(value)}\n          </div>\n          <div style={lineBreak} />\n        </div>\n      )\n\n    }\n    return (contents)\n  }\n  \n  function DiscountRateSlider() {\n    return (\n      <input type=\"range\" min=\"0\" max=\"100\" step={1} style={sliderStyle}  value={calcData.r} name=\"ROR\" onChange={(event) => { calcData.r = parseFloat(event.target.value).toFixed(2); calcData.discountFactor = rndNearTenth(1 / (1 + (calcData.r / 100))); findNPV(calcData.cashFlows, calcData.r, calcData.initialInvest) }} />\n    )\n  }\n\n  return (\n    <div style={calcCanvas}> \n  \n      {drawArrows()}\n      <p style={calcTitle}>NET PRESENT VALUE CALCULATOR</p>\n\n      <div style={cashFlowBox}><p style={header1}>CASH FLOWS</p>\n        <div style={innerCashBox}>{CashFlowContents()}</div>\n        <div style={cashBottom}>{addMoreButton()}</div>\n    \n      </div>\n\n      <div style={dRateBox}>\n        {rorInput()}\n        {DiscountRateSlider()}\n        <p style={DFactorText}>DISCOUNT FACTOR: {calcData.discountFactor}</p>\n\n      </div>\n\n      <div style={sketchBox}>\n        <p style={header1}>CASHFLOWS AT PRESENT VALUE</p>\n        <Sketch />\n      </div>\n\n      <div style={NpvStatBox}>\n        <p style={header1}>NET PRESENT VALUE</p>\n        <div>{npvResult()}</div>\n        <p style={header1}>AVG NPV PER PERIOD</p>\n        <p style={avgNPVHeader}>{dollarFormat(calcData.avgNpvYr)}</p>\n        <div style = {{position: \"absolute\", top: \"36%\"}}>{JellyJar()}</div>\n        {jellyDisplay()}\n        \n\n      </div>\n\n      <div style={graphBox}>\n        <p style ={header1}>RATE OF RETURN V. NPV GRAPH</p>\n\n        {Graph()}\n      </div>\n      {plotButton()}\n      {helpButton}\n      {helpBlurb}\n\n    </div>\n  )\n\n  function findNPV(cashFlows, r) {\n    // setHelpBlurb([]);\n    //ensures DOM will update even if npv didnt change\n    setNpvRan(npvRan + 1);  \n    let yearZero = removeCommas(cashFlows[0]);\n    let npvOut = null;\n    let rDec = r / 100;\n    let npv = null;\n    //reset modded cash flows\n    calcData.modCashFlows = [];\n    calcData.modCashFlows.push(yearZero);\n    calcData.initialInvest = yearZero;\n    for (let flow = 1; flow < cashFlows.length; flow++) {\n      let cashFlow = removeCommas(cashFlows[flow]);  \n      let powerOf = parseInt(flow);\n      let discountedFlow = cashFlow / Math.pow(1 + rDec, powerOf);\n      calcData.modCashFlows.push(discountedFlow);\n      npv += discountedFlow;\n    }\n    npvOut = Math.round((npv + yearZero) * 100) / 100;\n    calcData.avgNpvYr = (npvOut / (cashFlows.length)).toFixed(2);\n    calcData.theNPV = npvOut.toFixed(2);\n  }\n}\n\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}